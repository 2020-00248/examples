/*! Built with http://stenciljs.com */
amiviewer.loadBundle("clakppjz",["exports"],function(e){var t=window.amiviewer.h,n=function(){function e(){}return e.prototype.watchHandler=function(){this._reset()},e.prototype.componentDidLoad=function(){this._reset()},e.prototype._reset=function(){var e=this;console.log("setting up ami-viewer");var t=new THREE.WebGLRenderer({antialias:!0});t.setSize(this._container.offsetWidth,this._container.offsetHeight),t.setClearColor(0,1),t.setPixelRatio(window.devicePixelRatio),this._container.appendChild(t.domElement);var n=new THREE.Scene,o=new THREE.PerspectiveCamera(45,this._container.offsetWidth/this._container.offsetHeight,.1,1e3);o.position.x=150,o.position.y=150,o.position.z=100;var i=new AMI.TrackballControl(o,this._container);window.addEventListener("resize",function(){o.aspect=e._container.offsetWidth/e._container.offsetHeight,o.updateProjectionMatrix(),t.setSize(e._container.offsetWidth,e._container.offsetHeight)},!1);var r,a=new AMI.VolumeLoader(this._container);a.load((r=this.files,r.split(",").map(function(e){return"https://cdn.rawgit.com/FNNDSC/data/master/dicom/adi_brain/"+e}))).then(function(){var t=a.data[0].mergeSeries(a.data)[0].stack[0];a.free();var r=new AMI.StackHelper(t);r.bbox.color=16711680,r.border.color=255,n.add(r),e.onLoaded.emit(r);var c=r.stack.worldCenter();o.lookAt(c.x,c.y,c.z),o.updateProjectionMatrix(),i.target.set(c.x,c.y,c.z)}).catch(function(e){window.console.log("oops... something went wrong..."),window.console.log(e)});var c=function(){i.update(),t.render(n,o),requestAnimationFrame(function(){c()})};c()},e.prototype.render=function(){var e=this;return t("div",{id:"container",ref:function(t){return e._container=t}})},Object.defineProperty(e,"is",{get:function(){return"ami-viewer"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{files:{type:String,attr:"files",watchCallbacks:["watchHandler"]}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"onLoaded",method:"onLoaded",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"#container.sc-ami-viewer{background-color:#000;left:0;right:0;top:0;bottom:0;position:absolute;width:100%;height:100%;overflow:hidden}#gui-container.sc-ami-viewer{position:fixed;top:10px;right:10px;z-index:1}"},enumerable:!0,configurable:!0}),e}();e.AmiViewer=n,Object.defineProperty(e,"__esModule",{value:!0})});