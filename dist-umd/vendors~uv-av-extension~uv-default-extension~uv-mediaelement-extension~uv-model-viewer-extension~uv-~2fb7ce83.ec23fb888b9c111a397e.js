(window.webpackJsonpUV=window.webpackJsonpUV||[]).push([[1],{25:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},48:function(t,e,n){"use strict";var r=n(77),o=n(79);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=m,e.resolve=function(t,e){return m(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?m(t,!1,!0).resolveObject(e):e},e.format=function(t){o.isString(t)&&(t=m(t));return t instanceof i?t.format():i.prototype.format.call(t)},e.Url=i;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),p=["%","/","?",";","#"].concat(l),h=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(80);function m(t,e,n){if(t&&o.isObject(t)&&t instanceof i)return t;var r=new i;return r.parse(t,e,n),r}i.prototype.parse=function(t,e,n){if(!o.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),s=-1!==i&&i<t.indexOf("#")?"?":"#",c=t.split(s);c[0]=c[0].replace(/\\/g,"/");var m=t=c.join(s);if(m=m.trim(),!n&&1===t.split("#").length){var E=u.exec(m);if(E)return this.path=m,this.href=m,this.pathname=E[1],E[2]?(this.search=E[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var I=a.exec(m);if(I){var O=(I=I[0]).toLowerCase();this.protocol=O,m=m.substr(I.length)}if(n||I||m.match(/^\/\/[^@\/]+@[^@\/]+/)){var L="//"===m.substr(0,2);!L||I&&g[I]||(m=m.substr(2),this.slashes=!0)}if(!g[I]&&(L||I&&!v[I])){for(var T,A,C=-1,b=0;b<h.length;b++){-1!==(M=m.indexOf(h[b]))&&(-1===C||M<C)&&(C=M)}-1!==(A=-1===C?m.lastIndexOf("@"):m.lastIndexOf("@",C))&&(T=m.slice(0,A),m=m.slice(A+1),this.auth=decodeURIComponent(T)),C=-1;for(b=0;b<p.length;b++){var M;-1!==(M=m.indexOf(p[b]))&&(-1===C||M<C)&&(C=M)}-1===C&&(C=m.length),this.host=m.slice(0,C),m=m.slice(C),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var R=this.hostname.split(/\./),S=(b=0,R.length);b<S;b++){var w=R[b];if(w&&!w.match(f)){for(var N="",x=0,j=w.length;x<j;x++)w.charCodeAt(x)>127?N+="x":N+=w[x];if(!N.match(f)){var U=R.slice(0,b),D=R.slice(b+1),V=w.match(d);V&&(U.push(V[1]),D.unshift(V[2])),D.length&&(m="/"+D.join(".")+m),this.hostname=U.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+F,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==m[0]&&(m="/"+m))}if(!_[O])for(b=0,S=l.length;b<S;b++){var k=l[b];if(-1!==m.indexOf(k)){var H=encodeURIComponent(k);H===k&&(H=escape(k)),m=m.split(k).join(H)}}var B=m.indexOf("#");-1!==B&&(this.hash=m.substr(B),m=m.slice(0,B));var q=m.indexOf("?");if(-1!==q?(this.search=m.substr(q),this.query=m.substr(q+1),e&&(this.query=y.parse(this.query)),m=m.slice(0,q)):e&&(this.search="",this.query={}),m&&(this.pathname=m),v[O]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var $=this.search||"";this.path=F+$}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+i+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(t){return this.resolveObject(m(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(o.isString(t)){var e=new i;e.parse(t,!1,!0),t=e}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=t[l])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!v[t.protocol]){for(var p=Object.keys(t),h=0;h<p.length;h++){var f=p[h];n[f]=t[f]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||g[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var _=n.pathname||"",y=n.search||"";n.path=_+y}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),E=t.host||t.pathname&&"/"===t.pathname.charAt(0),I=E||m||n.host&&t.pathname,O=I,L=n.pathname&&n.pathname.split("/")||[],T=(d=t.pathname&&t.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(T&&(n.hostname="",n.port=null,n.host&&(""===L[0]?L[0]=n.host:L.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),I=I&&(""===d[0]||""===L[0])),E)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,L=d;else if(d.length)L||(L=[]),L.pop(),L=L.concat(d),n.search=t.search,n.query=t.query;else if(!o.isNullOrUndefined(t.search)){if(T)n.hostname=n.host=L.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift());return n.search=t.search,n.query=t.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!L.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var A=L.slice(-1)[0],C=(n.host||t.host||L.length>1)&&("."===A||".."===A)||""===A,b=0,M=L.length;M>=0;M--)"."===(A=L[M])?L.splice(M,1):".."===A?(L.splice(M,1),b++):b&&(L.splice(M,1),b--);if(!I&&!O)for(;b--;b)L.unshift("..");!I||""===L[0]||L[0]&&"/"===L[0].charAt(0)||L.unshift(""),C&&"/"!==L.join("/").substr(-1)&&L.push("");var P,R=""===L[0]||L[0]&&"/"===L[0].charAt(0);T&&(n.hostname=n.host=R?"":L.length?L.shift():"",(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift()));return(I=I||n.host&&L.length)&&!R&&L.unshift(""),L.length?n.pathname=L.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},52:function(t,e,n){t.exports=function(t,e){const r=n(74)(t,e);return function t(e,n={}){const o=Object.assign({},n,{redirect:"manual"});return r(e,o).then(e=>{if((303===e.status||301===e.status||302===e.status)&&"manual"!==n.redirect&&0!==n.follow){const r=Object.assign({},{method:"GET",body:null,follow:void 0!==n.follow?n.follow-1:void 0});return t(e.headers.get("location"),r)}return e})}}},54:function(t,e,n){"use strict";var r,o;n.d(e,"a",(function(){return r})),function(t){t[t.Backspace=8]="Backspace",t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Shift=16]="Shift",t[t.Ctrl=17]="Ctrl",t[t.Alt=18]="Alt",t[t.PauseBreak=19]="PauseBreak",t[t.CapsLock=20]="CapsLock",t[t.Escape=27]="Escape",t[t.Spacebar=32]="Spacebar",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.LeftArrow=37]="LeftArrow",t[t.UpArrow=38]="UpArrow",t[t.RightArrow=39]="RightArrow",t[t.DownArrow=40]="DownArrow",t[t.PrintScrn=44]="PrintScrn",t[t.Insert=45]="Insert",t[t.Delete=46]="Delete",t[t.Zero=48]="Zero",t[t.One=49]="One",t[t.Two=50]="Two",t[t.Three=51]="Three",t[t.Four=52]="Four",t[t.Five=53]="Five",t[t.Six=54]="Six",t[t.Seven=55]="Seven",t[t.Eight=56]="Eight",t[t.Nine=57]="Nine",t[t.a=65]="a",t[t.b=66]="b",t[t.c=67]="c",t[t.d=68]="d",t[t.e=69]="e",t[t.f=70]="f",t[t.g=71]="g",t[t.h=72]="h",t[t.i=73]="i",t[t.j=74]="j",t[t.k=75]="k",t[t.l=76]="l",t[t.m=77]="m",t[t.n=78]="n",t[t.o=79]="o",t[t.p=80]="p",t[t.q=81]="q",t[t.r=82]="r",t[t.s=83]="s",t[t.t=84]="t",t[t.u=85]="u",t[t.v=86]="v",t[t.w=87]="w",t[t.x=88]="x",t[t.y=89]="y",t[t.z=90]="z",t[t.LeftWindowKey=91]="LeftWindowKey",t[t.RightWindowKey=92]="RightWindowKey",t[t.SelectKey=93]="SelectKey",t[t.Numpad0=96]="Numpad0",t[t.Numpad1=97]="Numpad1",t[t.Numpad2=98]="Numpad2",t[t.Numpad3=99]="Numpad3",t[t.Numpad4=100]="Numpad4",t[t.Numpad5=101]="Numpad5",t[t.Numpad6=102]="Numpad6",t[t.Numpad7=103]="Numpad7",t[t.Numpad8=104]="Numpad8",t[t.Numpad9=105]="Numpad9",t[t.Multiply=106]="Multiply",t[t.NumpadPlus=107]="NumpadPlus",t[t.NumpadMinus=109]="NumpadMinus",t[t.DecimalPoint=110]="DecimalPoint",t[t.Divide=111]="Divide",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",t[t.NumLock=144]="NumLock",t[t.ScrollLock=145]="ScrollLock",t[t.Semicolon=186]="Semicolon",t[t.Equals=187]="Equals",t[t.Comma=188]="Comma",t[t.LessThan=188]="LessThan",t[t.Dash=189]="Dash",t[t.Period=190]="Period",t[t.GreaterThan=190]="GreaterThan",t[t.ForwardSlash=191]="ForwardSlash",t[t.QuestionMark=191]="QuestionMark",t[t.GraveAccent=192]="GraveAccent",t[t.Tilde=192]="Tilde",t[t.OpenCurlyBracket=219]="OpenCurlyBracket",t[t.OpenSquareBracket=219]="OpenSquareBracket",t[t.BackSlash=220]="BackSlash",t[t.VerticalPipe=220]="VerticalPipe",t[t.CloseCurlyBracket=221]="CloseCurlyBracket",t[t.CloseSquareBracket=221]="CloseSquareBracket",t[t.Quote=222]="Quote",t[t.CommandFF=224]="CommandFF"}(r||(r={})),function(t){t[t.Backspace=8]="Backspace",t[t.Enter=13]="Enter",t[t.Spacebar=32]="Spacebar",t[t.Hash=35]="Hash",t[t.GraveAccent=39]="GraveAccent",t[t.DoubleQuote=34]="DoubleQuote",t[t.Asterisk=42]="Asterisk",t[t.Plus=43]="Plus",t[t.Comma=44]="Comma",t[t.Minus=45]="Minus",t[t.Period=46]="Period",t[t.ForwardSlash=47]="ForwardSlash",t[t.Zero=48]="Zero",t[t.One=49]="One",t[t.Two=50]="Two",t[t.Three=51]="Three",t[t.Four=52]="Four",t[t.Five=53]="Five",t[t.Six=54]="Six",t[t.Seven=55]="Seven",t[t.Eight=56]="Eight",t[t.Nine=57]="Nine",t[t.Colon=58]="Colon",t[t.Semicolon=59]="Semicolon",t[t.LessThan=60]="LessThan",t[t.Equals=61]="Equals",t[t.GreaterThan=62]="GreaterThan",t[t.QuestionMark=63]="QuestionMark",t[t.At=64]="At",t[t.OpenSquareBracket=91]="OpenSquareBracket",t[t.BackSlash=92]="BackSlash",t[t.CloseSquareBracket=93]="CloseSquareBracket",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.g=103]="g",t[t.h=104]="h",t[t.i=105]="i",t[t.j=106]="j",t[t.k=107]="k",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.p=112]="p",t[t.q=113]="q",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.v=118]="v",t[t.w=119]="w",t[t.x=120]="x",t[t.y=121]="y",t[t.z=122]="z",t[t.OpenCurlyBracket=123]="OpenCurlyBracket",t[t.VerticalPipe=124]="VerticalPipe",t[t.CloseCurlyBracket=125]="CloseCurlyBracket",t[t.Tilde=126]="Tilde"}(o||(o={}))},62:function(t,e,n){var r,o,i,a;"undefined"!=typeof self&&self,t.exports=(r=n(52),o=n(84),i=n(21),a=n(48),function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(2),s=n(7),u=n(8);!function(t){t.LINES="lines",t.CHARS="chars"}(i=e.LimitType||(e.LimitType={}));var c=function(t){function e(e){var n=t.call(this,e)||this;return n._data=n.data(),n._data=n.options.data,n._init(),n._resize(),n}return o(e,t),e.prototype._init=function(){return t.prototype._init.call(this),this._$element=$(this.el),this._$metadataGroupTemplate=$('<div class="group">          <div class="header"></div>          <div class="items"></div>      </div>'),this._$metadataItemTemplate=$('<div class="item">          <div class="label"></div>          <div class="values"></div>      </div>'),this._$metadataItemValueTemplate=$('<div class="value"></div>'),this._$metadataItemURIValueTemplate=$('<a class="value" href="" target="_blank"></a>'),this._$copyTextTemplate=$('<div class="copyText" alt="'+this.options.data.content.copyToClipboard+'" title="'+this.options.data.content.copyToClipboard+'">        <div class="copiedText">'+this.options.data.content.copiedToClipboard+" </div>        </div>"),this._$metadataGroups=$('<div class="groups"></div>'),this._$element.append(this._$metadataGroups),this._$noData=$('<div class="noData">'+this.options.data.content.noData+"</div>"),this._$element.append(this._$noData),!0},e.prototype.data=function(){return{aggregateValues:"",canvases:null,canvasDisplayOrder:"",metadataGroupOrder:"",canvasExclude:"",canvasLabels:"",content:{attribution:"Attribution",canvasHeader:"About the canvas",copiedToClipboard:"Copied to clipboard",copyToClipboard:"Copy to clipboard",description:"Description",imageHeader:"About the image",less:"less",license:"License",logo:"Logo",manifestHeader:"About the item",more:"more",noData:"No data to display",rangeHeader:"About the range",sequenceHeader:"About the sequence"},copiedMessageDuration:2e3,copyToClipboardEnabled:!1,helper:null,licenseFormatter:null,limit:4,limitType:i.LINES,limitToRange:!1,manifestDisplayOrder:"",manifestExclude:"",range:null,rtlLanguageCodes:"ar, ara, dv, div, he, heb, ur, urd",sanitizer:function(t){return t},showAllLanguages:!1}},e.prototype._getManifestGroup=function(){return this._metadataGroups.filter((function(t){return t.resource.isManifest()}))[0]},e.prototype._getCanvasGroups=function(){return this._metadataGroups.filter((function(t){return t.resource.isCanvas()}))},e.prototype.set=function(t){var e=this;if(this._data=Object.assign(this._data,t),this._data&&this._data.helper){var n,r={canvases:this._data.canvases,licenseFormatter:this._data.licenseFormatter,range:this._data.range};if(this._metadataGroups=this._data.helper.getMetadata(r),this._data.manifestDisplayOrder&&((n=this._getManifestGroup()).items=this._sortItems(n.items,this._readCSV(this._data.manifestDisplayOrder))),this._data.canvasDisplayOrder&&this._getCanvasGroups().forEach((function(t,n){t.items=e._sortItems(t.items,e._readCSV(e._data.canvasDisplayOrder))})),this._data.metadataGroupOrder&&(this._metadataGroups=this._sortGroups(this._metadataGroups,this._readCSV(this._data.metadataGroupOrder))),this._data.canvasLabels&&this._label(this._getCanvasGroups(),this._readCSV(this._data.canvasLabels,!1)),this._data.manifestExclude&&((n=this._getManifestGroup()).items=this._exclude(n.items,this._readCSV(this._data.manifestExclude))),this._data.canvasExclude&&this._getCanvasGroups().forEach((function(t,n){t.items=e._exclude(t.items,e._readCSV(e._data.canvasExclude))})),this._data.limitToRange){var o=[];this._metadataGroups.forEach((function(t,e){t.resource.isRange()&&o.push(t)})),o.length&&(this._metadataGroups=o)}this._render()}},e.prototype._sortItems=function(t,e){var n=this,r=[],o=t.slice(0);return e.forEach((function(t,e){var i=o.filter((function(e){return n._normalise(e.getLabel())===t}))[0];if(i){r.push(i);var a=o.indexOf(i);a>-1&&o.splice(a,1)}})),o.forEach((function(t,e){r.push(t)})),r},e.prototype._sortGroups=function(t,e){var n=[],r=t.slice(0);return e.forEach((function(t,e){var o=r.filter((function(e){return e.resource.getIIIFResourceType().toLowerCase()==t.toLowerCase()}))[0];if(o){n.push(o);var i=r.indexOf(o);i>-1&&r.splice(i,1)}})),n},e.prototype._label=function(t,e){t.forEach((function(t,n){t.label=e[n]}))},e.prototype._exclude=function(t,e){var n=this;return e.forEach((function(e,r){var o=t.filter((function(t){return n._normalise(t.getLabel())===e}))[0];if(o){var i=t.indexOf(o);i>-1&&t.splice(i,1)}})),t},e.prototype._normalise=function(t){return t?t.toLowerCase().replace(/ /g,""):null},e.prototype._render=function(){var t=this;this._metadataGroups.length?(this._$noData.hide(),this._$metadataGroups.empty(),this._metadataGroups.forEach((function(e,n){var r=t._buildMetadataGroup(e);t._$metadataGroups.append(r);var o=r.find(".value");t._data.limit&&t._data.content&&(t._data.limitType===i.LINES?o.toggleExpandTextByLines(t._data.limit,t._data.content.less,t._data.content.more,(function(){})):t._data.limitType===i.CHARS&&o.ellipsisHtmlFixed(t._data.limit,(function(){})))}))):this._$noData.show()},e.prototype._buildMetadataGroup=function(t){var e=this._$metadataGroupTemplate.clone(),n=e.find(">.header");if(this._data.content)if(t.resource.isManifest()&&this._data.content.manifestHeader)(o=this._sanitize(this._data.content.manifestHeader))&&n.html(o);else if(t.resource.isSequence()&&this._data.content.sequenceHeader)(o=this._sanitize(this._data.content.sequenceHeader))&&n.html(o);else if(t.resource.isRange()&&this._data.content.rangeHeader)(o=this._sanitize(this._data.content.rangeHeader))&&n.html(o);else if(t.resource.isCanvas()&&(t.label||this._data.content.canvasHeader)){var r=t.label||this._data.content.canvasHeader;n.html(this._sanitize(r))}else if(t.resource.isAnnotation()&&this._data.content.imageHeader){var o;(o=this._sanitize(this._data.content.imageHeader))&&n.html(o)}n.text()||n.hide();for(var i=e.find(".items"),a=0;a<t.items.length;a++){var s=t.items[a],u=this._buildMetadataItem(s);i.append(u)}return e},e.prototype._buildMetadataItem=function(t){var e,n=this._$metadataItemTemplate.clone(),r=n.find(".label"),o=n.find(".values"),i=t.getLabel(),a=i,s=new RegExp("/w+:(/?/?)[^s]+/gm","i");if(this._data.content&&a&&t.isRootLevel)switch(a.toLowerCase()){case"attribution":a=this._data.content.attribution;break;case"description":a=this._data.content.description;break;case"license":a=this._data.content.license;break;case"logo":a=this._data.content.logo}if(a=this._sanitize(a),r.html(a),this._addReadingDirection(r,this._getLabelLocale(t)),n.addClass(u.Strings.toCssClass(a)),i&&"license"===i.toLowerCase()&&null!==s.exec(t.value[0].value))e=this._buildMetadataItemURIValue(t.value[0].value),o.append(e);else if(this._data.showAllLanguages&&t.value&&t.value.length>1)for(var c=0;c<t.value.length;c++){var p=t.value[c];e=this._buildMetadataItemValue(p.value,p.locale),o.append(e)}else{var h=this._getValueLocale(t),f=!1;for(c=0;c<t.value.length;c++)p=t.value[c],h.toLowerCase()===p.locale.toLowerCase()&&(f=!0,e=this._buildMetadataItemValue(p.value,p.locale),o.append(e));f||(p=t.value[0])&&(e=this._buildMetadataItemValue(p.value,p.locale),o.append(e))}this._data.copyToClipboardEnabled&&u.Clipboard.supportsCopy()&&r.text()&&this._addCopyButton(n,r,o);var d=this;return n.on("click","a.iiif-viewer-link",(function(t){t.preventDefault();var e=$(t.target),n=e.attr("data-uv-navigate")||e.prop("href");d.fire(l.IIIF_VIEWER_LINK_CLICKED,n)})),n.on("click","[data-uv-navigate]",(function(t){t.preventDefault();var e=$(t.target).attr("data-uv-navigate")||null;e&&d.fire(l.IIIF_VIEWER_LINK_CLICKED,e)})),n},e.prototype._getLabelLocale=function(t){if(!this._data||!this._data.helper)return"";var e=this._data.helper.options.locale;if(t.label.length){var n=t.label[0].locale;if(n.toLowerCase()!==e.toLowerCase())return n}return e},e.prototype._getValueLocale=function(t){return this._data&&this._data.helper?this._data.helper.options.locale:""},e.prototype._buildMetadataItemValue=function(t,e){t=(t=this._sanitize(t)).replace("\n","<br>");var n=this._$metadataItemValueTemplate.clone();return n.html(t),n.find("a").each((function(){var t=$(this);t.hasClass("iiif-viewer-link")||t.prop("target","_blank")})),e&&this._addReadingDirection(n,e),n},e.prototype._buildMetadataItemURIValue=function(t){t=this._sanitize(t);var e=this._$metadataItemURIValueTemplate.clone();return e.prop("href",t),e.text(t),e},e.prototype._addReadingDirection=function(t,e){e=a.Utils.getInexactLocale(e),this._readCSV(this._data.rtlLanguageCodes).filter((function(t){return t===e})).length>0&&(t.prop("dir","rtl"),t.addClass("rtl"))},e.prototype._addCopyButton=function(t,e,n){var r=this._$copyTextTemplate.clone(),o=r.children();e.append(r),u.Device.isTouch()?r.show():(t.on("mouseenter",(function(){r.show()})),t.on("mouseleave",(function(){r.hide()})),r.on("mouseleave",(function(){o.hide()})));var i=this,a=n.text();r.on("click",(function(t){i._copyItemValues(r,a)}))},e.prototype._copyItemValues=function(t,e){u.Clipboard.copy(e);var n=t.find(".copiedText");n.show(),setTimeout((function(){n.hide()}),this._data.copiedMessageDuration)},e.prototype._readCSV=function(t,e){void 0===e&&(e=!0);var n=[];if(t&&(n=t.split(","),e))for(var r=0;r<n.length;r++)n[r]=this._normalise(n[r]);return n},e.prototype._sanitize=function(t){return this._data.sanitizer?this._data.sanitizer(t):null},e.prototype._resize=function(){},e}(s.BaseComponent);e.MetadataComponent=c;var l=function(){function t(){}return t.IIIF_VIEWER_LINK_CLICKED="iiifViewerLinkClicked",t}();e.Events=l},function(t,e,n){var r,o,i,a;"undefined"!=typeof self&&self,t.exports=(r=n(3),o=n(4),i=n(5),a=n(6),function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(5)),r(n(6)),r(n(7)),r(n(8)),r(n(9)),r(n(10)),r(n(11)),r(n(12)),r(n(13)),r(n(14)),r(n(15)),r(n(16)),r(n(17)),r(n(18)),r(n(19)),r(n(20)),r(n(21)),r(n(22)),r(n(23)),r(n(24)),r(n(25)),r(n(26)),r(n(27)),r(n(28)),r(n(29)),r(n(30)),r(n(31)),r(n(2))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.BOOKMARKING="oa:bookmarking",t.CLASSIFYING="oa:classifying",t.COMMENTING="oa:commenting",t.DESCRIBING="oa:describing",t.EDITING="oa:editing",t.HIGHLIGHTING="oa:highlighting",t.IDENTIFYING="oa:identifying",t.LINKING="oa:linking",t.MODERATING="oa:moderating",t.PAINTING="sc:painting",t.QUESTIONING="oa:questioning",t.REPLYING="oa:replying",t.TAGGING="oa:tagging",t.TRANSCRIBING="oad:transcribing"}(e.AnnotationMotivation||(e.AnnotationMotivation={})),function(t){t.AUTO_ADVANCE="auto-advance",t.CONTINUOUS="continuous",t.FACING_PAGES="facing-pages",t.HIDDEN="hidden",t.INDIVIDUALS="individuals",t.MULTI_PART="multi-part",t.NO_NAV="no-nav",t.NON_PAGED="non-paged",t.PAGED="paged",t.REPEAT="repeat",t.SEQUENCE="sequence",t.THUMBNAIL_NAV="thumbnail-nav",t.TOGETHER="together",t.UNORDERED="unordered"}(e.Behavior||(e.Behavior={})),function(t){t.CANVAS="canvas",t.CHOICE="choice",t.CONTENT_AS_TEXT="contentastext",t.DOCUMENT="document",t.IMAGE="image",t.MOVING_IMAGE="movingimage",t.PDF="pdf",t.PHYSICAL_OBJECT="physicalobject",t.SOUND="sound",t.TEXTUALBODY="textualbody",t.VIDEO="video"}(e.ExternalResourceType||(e.ExternalResourceType={})),function(t){t.ANNOTATION="annotation",t.CANVAS="canvas",t.COLLECTION="collection",t.MANIFEST="manifest",t.RANGE="range",t.SEQUENCE="sequence"}(e.IIIFResourceType||(e.IIIFResourceType={})),function(t){t.AUDIO_MP4="audio/mp4",t.CORTO="application/corto",t.DRACO="application/draco",t.GLTF="model/gltf+json",t.JPG="image/jpeg",t.M3U8="application/vnd.apple.mpegurl",t.MP3="audio/mp3",t.MPEG_DASH="application/dash+xml",t.OBJ="text/plain",t.PDF="application/pdf",t.PLY="application/ply",t.THREEJS="application/vnd.threejs+json",t.VIDEO_MP4="video/mp4",t.WEBM="video/webm"}(e.MediaType||(e.MediaType={})),function(t){t.DOC="application/msword",t.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",t.PDF="application/pdf"}(e.RenderingFormat||(e.RenderingFormat={})),function(t){t.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",t.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",t.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",t.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",t.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",t.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",t.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",t.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",t.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",t.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",t.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",t.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",t.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",t.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",t.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",t.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",t.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",t.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",t.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",t.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",t.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",t.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",t.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",t.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",t.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",t.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",t.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",t.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",t.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",t.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",t.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",t.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",t.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",t.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",t.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",t.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",t.SEARCH_0="http://iiif.io/api/search/0/search",t.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",t.SEARCH_1="http://iiif.io/api/search/1/search",t.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",t.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",t.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",t.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",t.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",t.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",t.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(e.ServiceProfile||(e.ServiceProfile={})),function(t){t.BOTTOM_TO_TOP="bottom-to-top",t.LEFT_TO_RIGHT="left-to-right",t.RIGHT_TO_LEFT="right-to-left",t.TOP_TO_BOTTOM="top-to-bottom"}(e.ViewingDirection||(e.ViewingDirection={})),function(t){t.CONTINUOUS="continuous",t.INDIVIDUALS="individuals",t.NON_PAGED="non-paged",t.PAGED="paged",t.TOP="top"}(e.ViewingHint||(e.ViewingHint={}))},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=n(1),s=n(32),u=n(37),c=function(){function t(){}return t.getMediaType=function(t){return(t=(t=t.toLowerCase()).split(";")[0]).trim()},t.getImageQuality=function(t){return t===a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1||t===a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2||t===a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1||t===a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2||t===a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1||t===a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2||t===a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1||t===a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2||t===a.ServiceProfile.IMAGE_1_LEVEL_1||t===a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1||t===a.ServiceProfile.IMAGE_1_LEVEL_2||t===a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2?"native":"default"},t.getInexactLocale=function(t){return-1!==t.indexOf("-")?t.substr(0,t.indexOf("-")):t},t.getLocalisedValue=function(t,e){if(!Array.isArray(t))return t;for(var n=0;n<t.length;n++){var r=t[n];if(e===r["@language"])return r["@value"]}var o=e.substr(0,e.indexOf("-"));for(n=0;n<t.length;n++){var i=t[n];if(i["@language"]===o)return i["@value"]}return null},t.generateTreeNodeIds=function(e,n){var r;void 0===n&&(n=0),r=e.parentNode?e.parentNode.id+"-"+n:"0",e.id=r;for(var o=0;o<e.nodes.length;o++){var i=e.nodes[o];t.generateTreeNodeIds(i,o)}},t.normaliseType=function(t){return-1!==(t=t.toLowerCase()).indexOf(":")?t.split(":")[1]:t},t.normaliseUrl=function(t){return-1!==(t=t.substr(t.indexOf("://"))).indexOf("#")&&(t=t.split("#")[0]),t},t.normalisedUrlsMatch=function(e,n){return t.normaliseUrl(e)===t.normaliseUrl(n)},t.isImageProfile=function(e){return!!(t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_LEVEL_0)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_LEVEL_1)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_LEVEL_2)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_2_LEVEL_0)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_2_LEVEL_1)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_2_LEVEL_2)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},t.isLevel0ImageProfile=function(e){return!!(t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_0)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_LEVEL_0)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_2_LEVEL_0)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0))},t.isLevel1ImageProfile=function(e){return!!(t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_LEVEL_1)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_2_LEVEL_1)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1))},t.isLevel2ImageProfile=function(e){return!!(t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_LEVEL_2)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_2_LEVEL_2)||t.normalisedUrlsMatch(e,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},t.parseManifest=function(t,e){return i.Deserialiser.parse(t,e)},t.loadManifest=function(t){return s.request(t,{credentials:"same-origin"})},t.loadExternalResourcesAuth1=function(e,n,r,o,i,a,s,u){return new Promise((function(c,l){var p=e.map((function(e){return t.loadExternalResourceAuth1(e,n,r,o,i,a,s,u)}));Promise.all(p).then((function(){c(e)})).catch((function(t){l(t)}))}))},t.loadExternalResourceAuth1=function(e,n,i,a,s,c,l,p){return r(this,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return[4,a(e)];case 1:return(r=o.sent())?[4,e.getData(r)]:[3,6];case 2:return o.sent(),e.status!==u.OK?[3,3]:[2,e];case 3:return[4,t.doAuthChain(e,n,i,s,c,l,p)];case 4:o.sent(),o.label=5;case 5:if(e.status===u.OK||e.status===u.MOVED_TEMPORARILY)return[2,e];throw t.createAuthorizationFailedError();case 6:return[4,e.getData()];case 7:return o.sent(),e.status!==u.MOVED_TEMPORARILY&&e.status!==u.UNAUTHORIZED?[3,9]:[4,t.doAuthChain(e,n,i,s,c,l,p)];case 8:o.sent(),o.label=9;case 9:if(e.status===u.OK||e.status===u.MOVED_TEMPORARILY)return[2,e];throw t.createAuthorizationFailedError()}}))}))},t.doAuthChain=function(e,n,i,a,s,c,l){return r(this,void 0,void 0,(function(){var r,p,h,f,d,_,g,v;return o(this,(function(o){switch(o.label){case 0:return e.isAccessControlled()?((r=e.externalService)&&(r.options=e.options),(p=e.kioskService)&&(p.options=e.options),(h=e.clickThroughService)&&(h.options=e.options),(f=e.loginService)&&(f.options=e.options),e.isResponseHandled||e.status!==u.MOVED_TEMPORARILY?[3,2]:[4,c(e)]):[2,e];case 1:return o.sent(),[2,e];case 2:return d=null,_=null,(d=r)?(_=d,[4,t.attemptResourceWithToken(e,i,d)]):[3,4];case 3:return o.sent(),[2,e];case 4:return(d=p)?(_=d,(g=n(d))?[4,a(g)]:[3,7]):[3,7];case 5:return o.sent(),[4,t.attemptResourceWithToken(e,i,d)];case 6:return o.sent(),[2,e];case 7:return(d=h)?(_=d,[4,s(e,d)]):[3,11];case 8:return(v=o.sent())?[4,a(v)]:[3,11];case 9:return o.sent(),[4,t.attemptResourceWithToken(e,i,d)];case 10:return o.sent(),[2,e];case 11:return(d=f)?(_=d,[4,s(e,d)]):[3,15];case 12:return(v=o.sent())?[4,a(v)]:[3,15];case 13:return o.sent(),[4,t.attemptResourceWithToken(e,i,d)];case 14:return o.sent(),[2,e];case 15:return _&&l(e,_),[2]}}))}))},t.attemptResourceWithToken=function(t,e,n){return r(this,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:return(r=n.getService(a.ServiceProfile.AUTH_1_TOKEN))?[4,e(t,r)]:[3,3];case 1:return(i=o.sent())&&i.accessToken?[4,t.getData(i)]:[3,3];case 2:return o.sent(),[2,t];case 3:return[2]}}))}))},t.loadExternalResourcesAuth09=function(e,n,r,o,i,a,s,u,c,l){return new Promise((function(p,h){var f=e.map((function(e){return t.loadExternalResourceAuth09(e,n,r,o,i,a,s,u,c,l)}));Promise.all(f).then((function(){p(e)})).catch((function(t){h(t)}))}))},t.loadExternalResourceAuth09=function(e,n,r,o,i,a,s,c,l,p){return new Promise((function(h,f){p&&p.pessimisticAccessControl?e.getData().then((function(){e.isAccessControlled()?e.clickThroughService?(h(r(e)),h(o(e))):i(e).then((function(){a(e,!0).then((function(n){e.getData(n).then((function(){h(l(e))})).catch((function(e){f(t.createInternalServerError(e))}))})).catch((function(e){f(t.createInternalServerError(e))}))})).catch((function(e){f(t.createInternalServerError(e))})):h(e)})).catch((function(e){f(t.createInternalServerError(e))})):c(e,n).then((function(p){p?e.getData(p).then((function(){e.status===u.OK?h(l(e)):t.authorize(e,n,r,o,i,a,s,c).then((function(){h(l(e))})).catch((function(e){f(t.createAuthorizationFailedError())}))})).catch((function(e){f(t.createAuthorizationFailedError())})):t.authorize(e,n,r,o,i,a,s,c).then((function(){h(l(e))})).catch((function(e){f(t.createAuthorizationFailedError())}))})).catch((function(e){f(t.createAuthorizationFailedError())}))}))},t.createError=function(t,e){var n=new Error;return n.message=e,n.name=String(t),n},t.createAuthorizationFailedError=function(){return t.createError(i.StatusCode.AUTHORIZATION_FAILED,"Authorization failed")},t.createRestrictedError=function(){return t.createError(i.StatusCode.RESTRICTED,"Restricted")},t.createInternalServerError=function(e){return t.createError(i.StatusCode.INTERNAL_SERVER_ERROR,e)},t.authorize=function(e,n,r,o,i,a,s,c){return new Promise((function(l,p){e.getData().then((function(){e.isAccessControlled()?c(e,n).then((function(c){c?e.getData(c).then((function(){e.status===u.OK?l(e):t.showAuthInteraction(e,n,r,o,i,a,s,l,p)})).catch((function(e){p(t.createInternalServerError(e))})):a(e,!1).then((function(c){c?s(e,c,n).then((function(){e.getData(c).then((function(){e.status===u.OK?l(e):t.showAuthInteraction(e,n,r,o,i,a,s,l,p)})).catch((function(e){p(t.createInternalServerError(e))}))})).catch((function(e){p(t.createInternalServerError(e))})):t.showAuthInteraction(e,n,r,o,i,a,s,l,p)}))})).catch((function(e){p(t.createInternalServerError(e))})):l(e)}))}))},t.showAuthInteraction=function(e,n,r,o,i,a,s,c,l){e.status!==u.MOVED_TEMPORARILY||e.isResponseHandled?e.clickThroughService&&!e.isResponseHandled?r(e).then((function(){a(e,!0).then((function(r){s(e,r,n).then((function(){e.getData(r).then((function(){c(e)})).catch((function(e){l(t.createInternalServerError(e))}))})).catch((function(e){l(t.createInternalServerError(e))}))})).catch((function(e){l(t.createInternalServerError(e))}))})):i(e).then((function(){a(e,!0).then((function(r){s(e,r,n).then((function(){e.getData(r).then((function(){c(e)})).catch((function(e){l(t.createInternalServerError(e))}))})).catch((function(e){l(t.createInternalServerError(e))}))})).catch((function(e){l(t.createInternalServerError(e))}))})):c(e)},t.getService=function(t,e){for(var n=this.getServices(t),r=0;r<n.length;r++){var o=n[r];if(o.getProfile()===e)return o}return null},t.getResourceById=function(e,n){return t.traverseAndFind(e.__jsonld,"@id",n)},t.traverseAndFind=function(e,n,r){if(e.hasOwnProperty(n)&&e[n]===r)return e;for(var o=0;o<Object.keys(e).length;o++)if("object"==typeof e[Object.keys(e)[o]]){var i=t.traverseAndFind(e[Object.keys(e)[o]],n,r);if(null!=i)return i}},t.getServices=function(t){var e,n=[];if(!(e=t.__jsonld?t.__jsonld.service:t.service))return n;Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var o=e[r];if("string"==typeof o){var a=this.getResourceById(t.options.resource,o);a&&n.push(new i.Service(a.__jsonld||a,t.options))}else n.push(new i.Service(o,t.options))}return n},t.getTemporalComponent=function(t){var e=/t=([^&]+)/g.exec(t),n=null;return e&&e[1]&&(n=e[1].split(",")),n},t}();e.Utils=c},function(t,e,n){t.exports=n(4)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(0));var r=n(2);e.loadManifest=function(t){return r.Utils.loadManifest(t)},e.parseManifest=function(t,e){return r.Utils.parseManifest(t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.__jsonld=t,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return t.prototype.getProperty=function(t){var e=null;return this.__jsonld&&((e=this.__jsonld[t])||(e=this.__jsonld["@"+t])),e},t}();e.JSONLDResource=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=n(1),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.options=n,r}return o(e,t),e.prototype.getIIIFResourceType=function(){return i.Utils.normaliseType(this.getProperty("type"))},e.prototype.getLabel=function(){var t=this.getProperty("label");return t?i.LanguageMap.parse(t,this.options.locale):[]},e.prototype.getDefaultLabel=function(){return i.LanguageMap.getValue(this.getLabel())},e.prototype.getMetadata=function(){var t=this.getProperty("metadata"),e=[];if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n],o=new i.LabelValuePair(this.options.locale);o.parse(r),e.push(o)}return e},e.prototype.getRendering=function(t){for(var e=this.getRenderings(),n=0;n<e.length;n++){var r=e[n];if(r.getFormat()===t)return r}return null},e.prototype.getRenderings=function(){var t,e=[];if(!(t=this.__jsonld?this.__jsonld.rendering:this.rendering))return e;Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var r=t[n];e.push(new i.Rendering(r,this.options))}return e},e.prototype.getService=function(t){return i.Utils.getService(this,t)},e.prototype.getServices=function(){return i.Utils.getServices(this)},e.prototype.getThumbnail=function(){var t=this.getProperty("thumbnail");return Array.isArray(t)&&(t=t[0]),t?new i.Thumbnail(t,this.options):null},e.prototype.isAnnotation=function(){return this.getIIIFResourceType()===a.IIIFResourceType.ANNOTATION},e.prototype.isCanvas=function(){return this.getIIIFResourceType()===a.IIIFResourceType.CANVAS},e.prototype.isCollection=function(){return this.getIIIFResourceType()===a.IIIFResourceType.COLLECTION},e.prototype.isManifest=function(){return this.getIIIFResourceType()===a.IIIFResourceType.MANIFEST},e.prototype.isRange=function(){return this.getIIIFResourceType()===a.IIIFResourceType.RANGE},e.prototype.isSequence=function(){return this.getIIIFResourceType()===a.IIIFResourceType.SEQUENCE},e}(i.JSONLDResource);e.ManifestResource=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e.prototype.getFormat=function(){var t=this.getProperty("format");return t?t.toLowerCase():null},e.prototype.getResources=function(){var t=[];if(!this.__jsonld.resources)return t;for(var e=0;e<this.__jsonld.resources.length;e++){var n=this.__jsonld.resources[e],r=new i.Annotation(n,this.options);t.push(r)}return t},e.prototype.getType=function(){var t=this.getProperty("type");return t?i.Utils.normaliseType(t):null},e.prototype.getWidth=function(){return this.getProperty("width")},e.prototype.getHeight=function(){return this.getProperty("height")},e.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},e.prototype.getMaxHeight=function(){return this.getProperty("maxHeight")?null:this.getMaxWidth()},e}(i.ManifestResource);e.Resource=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=n(1),s=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.index=-1,r.isLoaded=!1;var o={defaultLabel:"-",locale:"en-GB",resource:r,pessimisticAccessControl:!1};return r.options=Object.assign(o,n),r}return o(e,t),e.prototype.getAttribution=function(){var t=this.getProperty("attribution");return t?i.LanguageMap.parse(t,this.options.locale):[]},e.prototype.getDescription=function(){var t=this.getProperty("description");return t?i.LanguageMap.parse(t,this.options.locale):[]},e.prototype.getIIIFResourceType=function(){return i.Utils.normaliseType(this.getProperty("type"))},e.prototype.getLogo=function(){var t=this.getProperty("logo");return t?"string"==typeof t?t:(Array.isArray(t)&&t.length&&(t=t[0]),t["@id"]||t.id):null},e.prototype.getLicense=function(){return i.Utils.getLocalisedValue(this.getProperty("license"),this.options.locale)},e.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},e.prototype.getRelated=function(){return this.getProperty("related")},e.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},e.prototype.getTrackingLabel=function(){var t=this.getService(a.ServiceProfile.TRACKING_EXTENSIONS);return t?t.getProperty("trackingLabel"):""},e.prototype.getDefaultTree=function(){return this.defaultTree=new i.TreeNode("root"),this.defaultTree.data=this,this.defaultTree},e.prototype.getRequiredStatement=function(){var t=null,e=this.getProperty("requiredStatement");if(e)(t=new i.LabelValuePair(this.options.locale)).parse(e);else{var n=this.getAttribution();n&&((t=new i.LabelValuePair(this.options.locale)).value=n)}return t},e.prototype.isCollection=function(){return this.getIIIFResourceType()===a.IIIFResourceType.COLLECTION},e.prototype.isManifest=function(){return this.getIIIFResourceType()===a.IIIFResourceType.MANIFEST},e.prototype.load=function(){var t=this;return new Promise((function(e){if(t.isLoaded)e(t);else{var n=t.options;n.navDate=t.getNavDate();var r=t.__jsonld.id;r||(r=t.__jsonld["@id"]),i.Utils.loadManifest(r).then((function(r){t.parentLabel=i.LanguageMap.getValue(t.getLabel(),n.locale);var o=i.Deserialiser.parse(r,n);(t=Object.assign(t,o)).index=n.index,e(t)}))}}))},e}(i.ManifestResource);e.IIIFResource=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e.prototype.getBody=function(){var t=[],e=this.getProperty("body");if(e)if(Array.isArray(e))for(var n=0;n<e.length;n++)if((a=e[n]).items)for(var r=0;r<a.items.length;r++){var o=a.items[r];t.push(new i.AnnotationBody(o,this.options))}else t.push(new i.AnnotationBody(a,this.options));else if(e.items)for(n=0;n<e.items.length;n++){var a=e.items[n];t.push(new i.AnnotationBody(a,this.options))}else t.push(new i.AnnotationBody(e,this.options));return t},e.prototype.getMotivation=function(){return this.getProperty("motivation")||null},e.prototype.getOn=function(){return this.getProperty("on")},e.prototype.getTarget=function(){return this.getProperty("target")},e.prototype.getResource=function(){return new i.Resource(this.getProperty("resource"),this.options)},e}(i.ManifestResource);e.Annotation=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e.prototype.getFormat=function(){var t=this.getProperty("format");return t?i.Utils.getMediaType(t):null},e.prototype.getType=function(){return this.getProperty("type")?i.Utils.normaliseType(this.getProperty("type")):null},e.prototype.getWidth=function(){return this.getProperty("width")},e.prototype.getHeight=function(){return this.getProperty("height")},e}(i.ManifestResource);e.AnnotationBody=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=function(t){function e(e,n,r){var o=t.call(this,n)||this;return o.label=e,o.options=r,o}return o(e,t),e.prototype.getIIIFResourceType=function(){return i.Utils.normaliseType(this.getProperty("type"))},e.prototype.getLabel=function(){return this.label},e.prototype.getResources=function(){var t=this;return this.getProperty("resources").map((function(e){return new i.Annotation(e,t.options)}))},e.prototype.load=function(){var t=this;return new Promise((function(e,n){if(t.isLoaded)e(t);else{var r=t.__jsonld.id;r||(r=t.__jsonld["@id"]),i.Utils.loadManifest(r).then((function(n){t.__jsonld=n,t.context=t.getProperty("context"),t.id=t.getProperty("id"),t.isLoaded=!0,e(t)})).catch(n)}}))},e}(i.JSONLDResource);e.AnnotationList=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e.prototype.getItems=function(){return this.getProperty("items")},e}(n(0).ManifestResource);e.AnnotationPage=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e.prototype.getCanonicalImageUri=function(t){var e,n=null,r="default",o=t;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])n=this.externalResource.data["@id"],o||(o=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(r="native");else{var a=this.getImages();if(a&&a.length){var s=a[0].getResource(),u=s.getServices();if(o||(o=s.getWidth()),u.length){var c=u[0];n=c.id,r=i.Utils.getImageQuality(c.getProfile())}else if(o===s.getWidth())return s.id}if(!n){var l=this.getProperty("thumbnail");if(l){if("string"==typeof l)return l;if(l["@id"])return l["@id"];if(l.length)return l[0].id}}}return e=o+",",n&&n.endsWith("/")&&(n=n.substr(0,n.length-1)),[n,"full",e,0,r+".jpg"].join("/")},e.prototype.getMaxDimensions=function(){var t,e=null;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(t=this.externalResource.data.profile,Array.isArray(t)&&(t=t.filter((function(t){return t.maxWidth}))[0])&&(e=new i.Size(t.maxWidth,t.maxHeight?t.maxHeight:t.maxWidth))),e},e.prototype.getContent=function(){var t=[],e=this.__jsonld.items||this.__jsonld.content;if(!e)return t;var n=null;if(e.length&&(n=new i.AnnotationPage(e[0],this.options)),!n)return t;for(var r=n.getItems(),o=0;o<r.length;o++){var a=r[o],s=new i.Annotation(a,this.options);t.push(s)}return t},e.prototype.getDuration=function(){return this.getProperty("duration")},e.prototype.getImages=function(){var t=[];if(!this.__jsonld.images)return t;for(var e=0;e<this.__jsonld.images.length;e++){var n=this.__jsonld.images[e],r=new i.Annotation(n,this.options);t.push(r)}return t},e.prototype.getIndex=function(){return this.getProperty("index")},e.prototype.getOtherContent=function(){var t=this,e=(Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")]).filter((function(t){return t&&"string"==typeof(e=t["@type"])&&e.toLowerCase()==e.toLowerCase();var e})).map((function(e,n){return new i.AnnotationList(e.label||"Annotation list "+n,e,t.options)})).map((function(t){return t.load()}));return Promise.all(e)},e.prototype.getWidth=function(){return this.getProperty("width")},e.prototype.getHeight=function(){return this.getProperty("height")},e}(i.Resource);e.Canvas=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=n(0),s=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.items=[],r._collections=null,r._manifests=null,e.__collection=r,r}return o(e,t),e.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter((function(t){return t.isCollection()}))},e.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter((function(t){return t.isManifest()}))},e.prototype.getCollectionByIndex=function(t){for(var e,n=this.getCollections(),r=0;r<n.length;r++){var o=n[r];o.index===t&&(e=o)}if(e)return e.options.index=t,e.load();throw new Error("Collection index not found")},e.prototype.getManifestByIndex=function(t){for(var e,n=this.getManifests(),r=0;r<n.length;r++){var o=n[r];o.index===t&&(e=o)}if(e)return e.options.index=t,e.load();throw new Error("Manifest index not found")},e.prototype.getTotalCollections=function(){return this.getCollections().length},e.prototype.getTotalManifests=function(){return this.getManifests().length},e.prototype.getTotalItems=function(){return this.items.length},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):i.ViewingDirection.LEFT_TO_RIGHT},e.prototype.getDefaultTree=function(){return t.prototype.getDefaultTree.call(this),this.defaultTree.data.type=a.Utils.normaliseType(a.TreeNodeType.COLLECTION),this._parseManifests(this),this._parseCollections(this),a.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},e.prototype._parseManifests=function(t){if(t.getManifests()&&t.getManifests().length)for(var e=0;e<t.getManifests().length;e++){var n=t.getManifests()[e],r=n.getDefaultTree();r.label=n.parentLabel||a.LanguageMap.getValue(n.getLabel(),this.options.locale)||"manifest "+(e+1),r.navDate=n.getNavDate(),r.data.id=n.id,r.data.type=a.Utils.normaliseType(a.TreeNodeType.MANIFEST),t.defaultTree.addNode(r)}},e.prototype._parseCollections=function(t){if(t.getCollections()&&t.getCollections().length)for(var e=0;e<t.getCollections().length;e++){var n=t.getCollections()[e],r=n.getDefaultTree();r.label=n.parentLabel||a.LanguageMap.getValue(n.getLabel(),this.options.locale)||"collection "+(e+1),r.navDate=n.getNavDate(),r.data.id=n.id,r.data.type=a.Utils.normaliseType(a.TreeNodeType.COLLECTION),t.defaultTree.addNode(r)}},e}(a.IIIFResource);e.Collection=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.start=t,this.end=e}return t.prototype.getLength=function(){return this.end-this.start},t}();e.Duration=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(){function t(t){this.defaultLocale=t}return t.prototype.parse=function(t){this.resource=t,this.label=r.LanguageMap.parse(this.resource.label,this.defaultLocale),this.value=r.LanguageMap.parse(this.resource.value,this.defaultLocale)},t.prototype.getLabel=function(){return this.label?r.LanguageMap.getValue(this.label,this.defaultLocale):null},t.prototype.setLabel=function(t){var e=this;if(this.label&&this.label.length){var n=this.label.filter((function(t){return t.locale===e.defaultLocale||t.locale===r.Utils.getInexactLocale(e.defaultLocale)}))[0];n&&(n.value=t)}},t.prototype.getValue=function(){if(this.value){var t=this.defaultLocale;return this.label&&this.label.length&&this.label[0].locale&&(t=this.label[0].locale),r.LanguageMap.getValue(this.value,t)}return null},t.prototype.setValue=function(t){var e=this;if(this.value&&this.value.length){var n=this.value.filter((function(t){return t.locale===e.defaultLocale||t.locale===r.Utils.getInexactLocale(e.defaultLocale)}))[0];n&&(n.value=t)}},t}();e.LabelValuePair=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Language=function(t,e){Array.isArray(t)?1===t.length?this.value=t[0]:this.value=t.join("<br/>"):this.value=t,this.locale=e}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.parse=function(t,e){var n,r=[];if(!t)return r;if(Array.isArray(t))for(var o=0;o<t.length;o++){var a=t[o];n="string"==typeof a?new i.Language(a,e):new i.Language(a["@value"],a["@language"]||e),r.push(n)}else{if("string"==typeof t)return n=new i.Language(t,e),r.push(n),r;t["@value"]?(n=new i.Language(t["@value"],t["@language"]||e),r.push(n)):Object.keys(t).forEach((function(e){if(!t[e].length)throw new Error("language must have a value");n=new i.Language(t[e],e),r.push(n)}))}return r},e.getValue=function(t,e){if(t.length){if(e){var n=t.filter((function(t){return t.locale===e||i.Utils.getInexactLocale(t.locale)===i.Utils.getInexactLocale(e)}))[0];if(n)return n.value}return t[0].value}return null},e}(Array);e.LanguageMap=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=n(0),s=function(t){function e(e,n){var r=t.call(this,e,n)||this;if(r.index=0,r._allRanges=null,r.items=[],r._topRanges=[],r.__jsonld.structures&&r.__jsonld.structures.length)for(var o=r._getTopRanges(),i=0;i<o.length;i++){var a=o[i];r._parseRanges(a,String(i))}return r}return o(e,t),e.prototype.getPosterCanvas=function(){var t=this.getProperty("posterCanvas");return t&&(t=new a.Canvas(t,this.options)),t},e.prototype.getBehavior=function(){var t=this.getProperty("behavior");return Array.isArray(t)&&(t=t[0]),t||null},e.prototype.getDefaultTree=function(){if(t.prototype.getDefaultTree.call(this),this.defaultTree.data.type=a.Utils.normaliseType(a.TreeNodeType.MANIFEST),!this.isLoaded)return this.defaultTree;var e=this.getTopRanges();return e.length&&e[0].getTree(this.defaultTree),a.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},e.prototype._getTopRanges=function(){var t=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var e=0;e<this.__jsonld.structures.length;e++){var n=this.__jsonld.structures[e];n.viewingHint===i.ViewingHint.TOP&&t.push(n)}if(!t.length){var r={};r.ranges=this.__jsonld.structures,t.push(r)}}return t},e.prototype.getTopRanges=function(){return this._topRanges},e.prototype._getRangeById=function(t){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var e=0;e<this.__jsonld.structures.length;e++){var n=this.__jsonld.structures[e];if(n["@id"]===t||n.id===t)return n}return null},e.prototype._parseRanges=function(t,e,n){var r,o=null;if("string"==typeof t&&(o=t,t=this._getRangeById(o)),t){(r=new a.Range(t,this.options)).parentRange=n,r.path=e,n?n.items.push(r):this._topRanges.push(r);var i=t.items||t.members;if(i)for(var s=0;s<i.length;s++){var u=i[s];if(u["@type"]&&"sc:range"===u["@type"].toLowerCase()||u.type&&"range"===u.type.toLowerCase())this._parseRanges(u,e+"/"+s,r);else if(u["@type"]&&"sc:canvas"===u["@type"].toLowerCase()||u.type&&"canvas"===u.type.toLowerCase()){r.canvases||(r.canvases=[]);var c=u.id||u["@id"];r.canvases.push(c)}}else if(t.ranges)for(s=0;s<t.ranges.length;s++)this._parseRanges(t.ranges[s],e+"/"+s,r)}else console.warn("Range:",o,"does not exist")},e.prototype.getAllRanges=function(){if(null!=this._allRanges)return this._allRanges;this._allRanges=[];for(var t=this.getTopRanges(),e=function(e){var r=t[e];r.id&&n._allRanges.push(r);var o=function(t,e){t.add(e);var n=e.getRanges();return n.length?n.reduce(o,t):t},i=Array.from(r.getRanges().reduce(o,new Set));n._allRanges=n._allRanges.concat(i)},n=this,r=0;r<t.length;r++)e(r);return this._allRanges},e.prototype.getRangeById=function(t){for(var e=this.getAllRanges(),n=0;n<e.length;n++){var r=e[n];if(r.id===t)return r}return null},e.prototype.getRangeByPath=function(t){for(var e=this.getAllRanges(),n=0;n<e.length;n++){var r=e[n];if(r.path===t)return r}return null},e.prototype.getSequences=function(){if(this.items.length)return this.items;var t=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(t)for(var e=0;e<t.length;e++){var n=t[e],r=new a.Sequence(n,this.options);this.items.push(r)}else this.__jsonld.items&&(r=new a.Sequence(this.__jsonld.items,this.options),this.items.push(r));return this.items},e.prototype.getSequenceByIndex=function(t){return this.getSequences()[t]},e.prototype.getTotalSequences=function(){return this.getSequences().length},e.prototype.getManifestType=function(){var t=this.getService(i.ServiceProfile.UI_EXTENSIONS);return t?t.getProperty("manifestType"):a.ManifestType.EMPTY},e.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},e.prototype.isPagingEnabled=function(){var t=this.getViewingHint();if(t)return t===i.ViewingHint.PAGED;var e=this.getBehavior();return!!e&&e===i.Behavior.PAGED},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},e.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},e}(a.IIIFResource);e.Manifest=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.EMPTY="",t.MANUSCRIPT="manuscript",t.MONOGRAPH="monograph"}(e.ManifestType||(e.ManifestType={}))},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=n(1),s=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r._ranges=null,r.canvases=null,r.items=[],r}return o(e,t),e.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},e.prototype.getDuration=function(){var t,e;if(this.canvases&&this.canvases.length)for(var n=0;n<this.canvases.length;n++){var r=this.canvases[n],o=i.Utils.getTemporalComponent(r);o&&o.length>1&&(0===n&&(t=Number(o[0])),n===this.canvases.length-1&&(e=Number(o[1])))}else{var a=this.getRanges();for(n=0;n<a.length;n++){var s=a[n].getDuration();s&&(0===n&&(t=s.start),n===a.length-1&&(e=s.end))}}if(void 0!==t&&void 0!==e)return new i.Duration(t,e)},e.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter((function(t){return t.isRange()}))},e.prototype.getBehavior=function(){var t=this.getProperty("behavior");return Array.isArray(t)&&(t=t[0]),t||null},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},e.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},e.prototype.getTree=function(t){t.data=this,this.treeNode=t;var e=this.getRanges();if(e&&e.length)for(var n=0;n<e.length;n++){var r=e[n],o=new i.TreeNode;t.addNode(o),this._parseTreeNode(o,r)}return i.Utils.generateTreeNodeIds(t),t},e.prototype.spansTime=function(t){var e=this.getDuration();return!!(e&&t>=e.start&&t<=e.end)},e.prototype._parseTreeNode=function(t,e){t.label=i.LanguageMap.getValue(e.getLabel(),this.options.locale),t.data=e,t.data.type=i.Utils.normaliseType(i.TreeNodeType.RANGE),e.treeNode=t;var n=e.getRanges();if(n&&n.length)for(var r=0;r<n.length;r++){var o=n[r];if(o.getBehavior()!==a.Behavior.NO_NAV){var s=new i.TreeNode;t.addNode(s),this._parseTreeNode(s,o)}}},e}(i.ManifestResource);e.Range=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e.prototype.getFormat=function(){return this.getProperty("format")},e}(n(0).ManifestResource);e.Rendering=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=n(0),s=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.items=[],r._thumbnails=null,r}return o(e,t),e.prototype.getCanvases=function(){if(this.items.length)return this.items;var t=this.__jsonld.canvases||this.__jsonld.elements;if(t)for(var e=0;e<t.length;e++){var n=t[e];(r=new a.Canvas(n,this.options)).index=e,this.items.push(r)}else if(this.__jsonld)for(e=0;e<this.__jsonld.length;e++){var r;n=this.__jsonld[e],(r=new a.Canvas(n,this.options)).index=e,this.items.push(r)}return this.items},e.prototype.getCanvasById=function(t){for(var e=0;e<this.getTotalCanvases();e++){var n=this.getCanvasByIndex(e),r=a.Utils.normaliseUrl(n.id);if(a.Utils.normaliseUrl(t)===r)return n}return null},e.prototype.getCanvasByIndex=function(t){return this.getCanvases()[t]},e.prototype.getCanvasIndexById=function(t){for(var e=0;e<this.getTotalCanvases();e++)if(this.getCanvasByIndex(e).id===t)return e;return null},e.prototype.getCanvasIndexByLabel=function(t,e){t=t.trim(),isNaN(t)||(t=parseInt(t,10).toString(),e&&(t+="r"));for(var n,r,o,i=/(\d*)\D+(\d*)/,s=0;s<this.getTotalCanvases();s++){var u=this.getCanvasByIndex(s);if(a.LanguageMap.getValue(u.getLabel(),this.options.locale)===t)return s;if((n=i.exec(t))&&(r=n[1],(o=n[2])&&new RegExp("^"+r+"\\D+"+o+"$").test(u.getLabel().toString())))return s}return-1},e.prototype.getLastCanvasLabel=function(t){for(var e=this.getTotalCanvases()-1;e>=0;e--){var n=this.getCanvasByIndex(e),r=a.LanguageMap.getValue(n.getLabel(),this.options.locale);if(t){if(/^[a-zA-Z0-9]*$/.test(r))return r}else if(r)return r}return this.options.defaultLabel},e.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},e.prototype.getNextPageIndex=function(t,e){var n;if(e){var r=this.getPagedIndices(t),o=this.getViewingDirection();n=o&&o===i.ViewingDirection.RIGHT_TO_LEFT?r[0]+1:r[r.length-1]+1}else n=t+1;return n>this.getLastPageIndex()?-1:n},e.prototype.getPagedIndices=function(t,e){var n=[];if(e){n=this.isFirstCanvas(t)||this.isLastCanvas(t)?[t]:t%2?[t,t+1]:[t-1,t];var r=this.getViewingDirection();r&&r===i.ViewingDirection.RIGHT_TO_LEFT&&(n=n.reverse())}else n.push(t);return n},e.prototype.getPrevPageIndex=function(t,e){var n;if(e){var r=this.getPagedIndices(t),o=this.getViewingDirection();n=o&&o===i.ViewingDirection.RIGHT_TO_LEFT?r[r.length-1]-1:r[0]-1}else n=t-1;return n},e.prototype.getStartCanvasIndex=function(){var t=this.getStartCanvas();if(t)for(var e=0;e<this.getTotalCanvases();e++)if(this.getCanvasByIndex(e).id===t)return e;return 0},e.prototype.getThumbs=function(t,e){for(var n=[],r=this.getTotalCanvases(),o=0;o<r;o++){var i=this.getCanvasByIndex(o),s=new a.Thumb(t,i);n.push(s)}return n},e.prototype.getThumbnails=function(){if(null!=this._thumbnails)return this._thumbnails;this._thumbnails=[];for(var t=this.getCanvases(),e=0;e<t.length;e++){var n=t[e].getThumbnail();n&&this._thumbnails.push(n)}return this._thumbnails},e.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},e.prototype.getTotalCanvases=function(){return this.getCanvases().length},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},e.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},e.prototype.isCanvasIndexOutOfRange=function(t){return t>this.getTotalCanvases()-1},e.prototype.isFirstCanvas=function(t){return 0===t},e.prototype.isLastCanvas=function(t){return t===this.getTotalCanvases()-1},e.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},e.prototype.isPagingEnabled=function(){var t=this.getViewingHint();return!!t&&t===i.ViewingHint.PAGED},e.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},e}(a.ManifestResource);e.Sequence=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(){function t(){}return t.parse=function(t,e){return"string"==typeof t&&(t=JSON.parse(t)),this.parseJson(t,e)},t.parseJson=function(t,e){var n;if(e&&e.navDate&&!isNaN(e.navDate.getTime())&&(t.navDate=e.navDate.toString()),t["@type"])switch(t["@type"]){case"sc:Collection":n=this.parseCollection(t,e);break;case"sc:Manifest":n=this.parseManifest(t,e);break;default:return null}else switch(t.type){case"Collection":n=this.parseCollection(t,e);break;case"Manifest":n=this.parseManifest(t,e);break;default:return null}return n.isLoaded=!0,n},t.parseCollection=function(t,e){var n=new r.Collection(t,e);return e?(n.index=e.index||0,e.resource&&(n.parentCollection=e.resource.parentCollection)):n.index=0,this.parseCollections(n,e),this.parseManifests(n,e),this.parseItems(n,e),n},t.parseCollections=function(t,e){var n;if(t.__jsonld.collections?n=t.__jsonld.collections:t.__jsonld.items&&(n=t.__jsonld.items.filter((function(t){return"collection"===t.type.toLowerCase()}))),n)for(var r=0;r<n.length;r++){e&&(e.index=r);var o=this.parseCollection(n[r],e);o.index=r,o.parentCollection=t,t.items.push(o)}},t.parseManifest=function(t,e){return new r.Manifest(t,e)},t.parseManifests=function(t,e){var n;if(t.__jsonld.manifests?n=t.__jsonld.manifests:t.__jsonld.items&&(n=t.__jsonld.items.filter((function(t){return"manifest"===t.type.toLowerCase()}))),n)for(var r=0;r<n.length;r++){var o=this.parseManifest(n[r],e);o.index=r,o.parentCollection=t,t.items.push(o)}},t.parseItem=function(t,e){if(t["@type"]){if("sc:manifest"===t["@type"].toLowerCase())return this.parseManifest(t,e);if("sc:collection"===t["@type"].toLowerCase())return this.parseCollection(t,e)}else if(t.type){if("manifest"===t.type.toLowerCase())return this.parseManifest(t,e);if("collection"===t.type.toLowerCase())return this.parseCollection(t,e)}return null},t.parseItems=function(t,e){var n=t.__jsonld.members||t.__jsonld.items;if(n)for(var r=function(r){e&&(e.index=r);var i=o.parseItem(n[r],e);return i?t.items.filter((function(t){return t.id===i.id}))[0]?"continue":(i.index=r,i.parentCollection=t,void t.items.push(i)):{value:void 0}},o=this,i=0;i<n.length;i++){var a=r(i);if("object"==typeof a)return a.value}},t}();e.Deserialiser=o},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e.prototype.getProfile=function(){var t=this.getProperty("profile");return t||(t=this.getProperty("dcterms:conformsTo")),Array.isArray(t)?t[0]:t},e.prototype.getConfirmLabel=function(){return i.Utils.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},e.prototype.getDescription=function(){return i.Utils.getLocalisedValue(this.getProperty("description"),this.options.locale)},e.prototype.getFailureDescription=function(){return i.Utils.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},e.prototype.getFailureHeader=function(){return i.Utils.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},e.prototype.getHeader=function(){return i.Utils.getLocalisedValue(this.getProperty("header"),this.options.locale)},e.prototype.getServiceLabel=function(){return i.Utils.getLocalisedValue(this.getProperty("label"),this.options.locale)},e.prototype.getInfoUri=function(){var t=this.id;return t.endsWith("/")||(t+="/"),t+"info.json"},e}(i.ManifestResource);e.Service=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Size=function(t,e){this.width=t,this.height=e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.AUTHORIZATION_FAILED=1]="AUTHORIZATION_FAILED",t[t.FORBIDDEN=2]="FORBIDDEN",t[t.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",t[t.RESTRICTED=4]="RESTRICTED"}(e.StatusCode||(e.StatusCode={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.Thumb=function(t,e){this.data=e,this.index=e.index,this.width=t;var n=e.getHeight()/e.getWidth();this.height=n?Math.floor(this.width*n):t,this.uri=e.getCanonicalImageUri(t),this.label=r.LanguageMap.getValue(e.getLabel())}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e}(n(0).Resource);e.Thumbnail=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(){function t(t,e){this.label=t,this.data=e||{},this.nodes=[]}return t.prototype.addNode=function(t){this.nodes.push(t),t.parentNode=this},t.prototype.isCollection=function(){return this.data.type===r.Utils.normaliseType(r.TreeNodeType.COLLECTION)},t.prototype.isManifest=function(){return this.data.type===r.Utils.normaliseType(r.TreeNodeType.MANIFEST)},t.prototype.isRange=function(){return this.data.type===r.Utils.normaliseType(r.TreeNodeType.RANGE)},t}();e.TreeNode=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.COLLECTION="collection",t.MANIFEST="manifest",t.RANGE="range"}(e.TreeNodeType||(e.TreeNodeType={}))},function(t,e,n){!function(t,e,n,r,o){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r,o=o&&o.hasOwnProperty("default")?o.default:o;class i extends Error{constructor({networkError:t,status:e,statusText:n,body:r,url:o,init:a},...s){super(...s),Error.captureStackTrace&&Error.captureStackTrace(this,i),this.name="FetchError",this.status=e,this.statusText=n,this.body=r,this.url=o,this.init=a,this.networkError=t,this.url&&(this.message=`error while fetching ${this.url}\n\nstatus: ${this.status}\n\ninit: ${JSON.stringify(a,void 0,2)}\n\nbody: ${JSON.stringify(r,void 0,2)}\n`)}}const a="undefined"!=typeof fetch,s=a?fetch:e(r),u=a?Headers:r.Headers,c=a?Request:r.Request,l=a?Response:r.Response,p=a?FormData:n,h=a?URL:o.URL,f=a?URLSearchParams:o.URLSearchParams,d=new RegExp("^application/(.*\\+)?json"),_=new RegExp("^application/(.*\\+)?xml");t.FetchError=i,t.FormData=p,t.Headers=u,t.Request=c,t.Response=l,t.URL=h,t.URLSearchParams=f,t.fetch=s,t.request=async function(t,e){let n;try{n=await s(t,e)}catch(t){throw new i({networkError:{message:t.message}})}const r=await async function(t){const{headers:e}=t,n=e.get("Content-Type");let r="blob";n?n.startsWith("text/")||_.test(n)?r="text":d.test(n)&&(r="json"):r="blob";const o=t[r](),i=await o;return{status:t.status,statusText:t.statusText,ok:t.ok,body:i}}(n);if(!r.ok)throw new i({status:r.status,statusText:r.statusText,body:r.body,url:t});return r.body},Object.defineProperty(t,"__esModule",{value:!0})}(e,n(33),n(34),n(35),n(36))},function(t,e){t.exports=r},function(t,e){t.exports=o},function(t,e){t.exports=i},function(t,e){t.exports=a},function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTINUE=100,e.SWITCHING_PROTOCOLS=101,e.PROCESSING=102,e.OK=200,e.CREATED=201,e.ACCEPTED=202,e.NON_AUTHORITATIVE_INFORMATION=203,e.NO_CONTENT=204,e.RESET_CONTENT=205,e.PARTIAL_CONTENT=206,e.MULTI_STATUS=207,e.MULTIPLE_CHOICES=300,e.MOVED_PERMANENTLY=301,e.MOVED_TEMPORARILY=302,e.SEE_OTHER=303,e.NOT_MODIFIED=304,e.USE_PROXY=305,e.TEMPORARY_REDIRECT=307,e.BAD_REQUEST=400,e.UNAUTHORIZED=401,e.PAYMENT_REQUIRED=402,e.FORBIDDEN=403,e.NOT_FOUND=404,e.METHOD_NOT_ALLOWED=405,e.NOT_ACCEPTABLE=406,e.PROXY_AUTHENTICATION_REQUIRED=407,e.REQUEST_TIME_OUT=408,e.CONFLICT=409,e.GONE=410,e.LENGTH_REQUIRED=411,e.PRECONDITION_FAILED=412,e.REQUEST_ENTITY_TOO_LARGE=413,e.REQUEST_URI_TOO_LARGE=414,e.UNSUPPORTED_MEDIA_TYPE=415,e.REQUESTED_RANGE_NOT_SATISFIABLE=416,e.EXPECTATION_FAILED=417,e.IM_A_TEAPOT=418,e.UNPROCESSABLE_ENTITY=422,e.LOCKED=423,e.FAILED_DEPENDENCY=424,e.UNORDERED_COLLECTION=425,e.UPGRADE_REQUIRED=426,e.PRECONDITION_REQUIRED=428,e.TOO_MANY_REQUESTS=429,e.REQUEST_HEADER_FIELDS_TOO_LARGE=431,e.INTERNAL_SERVER_ERROR=500,e.NOT_IMPLEMENTED=501,e.BAD_GATEWAY=502,e.SERVICE_UNAVAILABLE=503,e.GATEWAY_TIME_OUT=504,e.HTTP_VERSION_NOT_SUPPORTED=505,e.VARIANT_ALSO_NEGOTIATES=506,e.INSUFFICIENT_STORAGE=507,e.BANDWIDTH_LIMIT_EXCEEDED=509,e.NOT_EXTENDED=510,e.NETWORK_AUTHENTICATION_REQUIRED=511}])}]))},function(t,e){t.exports=r},function(t,e){t.exports=o},function(t,e){t.exports=i},function(t,e){t.exports=a},function(t,e,n){"use strict";n.r(e),n.d(e,"BaseComponent",(function(){return r}));var r=function(){function t(t){this.options=t,this.options.data=Object.assign({},this.data(),t.data)}return t.prototype._init=function(){return this.el=this.options.target,this.el?(this.el.innerHTML="",!0):(console.warn("element not found"),!1)},t.prototype.data=function(){return{}},t.prototype.on=function(t,e,n){var r=this._e||(this._e={});(r[t]||(r[t]=[])).push({fn:e,ctx:n})},t.prototype.fire=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=[].slice.call(arguments,1),o=((this._e||(this._e={}))[t]||[]).slice(),i=0,a=o.length;i<a;i++)o[i].fn.apply(o[i].ctx,r)},t.prototype._resize=function(){},t.prototype.set=function(t){},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"Async",(function(){return o})),n.d(e,"Bools",(function(){return i})),n.d(e,"Clipboard",(function(){return a})),n.d(e,"Colors",(function(){return s})),n.d(e,"Dates",(function(){return u})),n.d(e,"Device",(function(){return c})),n.d(e,"Documents",(function(){return l})),n.d(e,"Events",(function(){return p})),n.d(e,"Files",(function(){return h})),n.d(e,"Keyboard",(function(){return f})),n.d(e,"Maths",(function(){return d})),n.d(e,"Size",(function(){return _})),n.d(e,"Dimensions",(function(){return g})),n.d(e,"Numbers",(function(){return v})),n.d(e,"Objects",(function(){return y})),n.d(e,"Storage",(function(){return m})),n.d(e,"StorageItem",(function(){return E})),n.d(e,"StorageType",(function(){return r})),n.d(e,"Strings",(function(){return I})),n.d(e,"Urls",(function(){return O}));var r,o=function(){function t(){}return t.waitFor=function(e,n,r,o,i,a){o||(o=200),i||(i=100),a||(a=0),(a+=1)>i?r&&r():e()?n():setTimeout((function(){t.waitFor(e,n,r,o,i,a)}),o)},t}(),i=function(){function t(){}return t.getBool=function(t,e){return null==t?e:t},t}(),a=function(){function t(){}return t.supportsCopy=function(){return document.queryCommandSupported&&document.queryCommandSupported("copy")},t.copy=function(e){e=t.convertBrToNewLine(e);var n=document.createElement("textarea");n.value=e,t.hideButKeepEnabled(n),document.body.appendChild(n),n.focus(),n.select(),document.execCommand("copy"),document.body.removeChild(n)},t.hideButKeepEnabled=function(t){t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="2em",t.style.height="2em",t.style.padding="0",t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent"},t.convertBrToNewLine=function(t){return t.replace(/<br\s*[\/]?>/gi,"\n")},t}(),s=function(){function t(){}return t.float32ColorToARGB=function(t){return[(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},t._componentToHex=function(t){var e=t.toString(16);return 1==e.length?"0"+e:e},t.rgbToHexString=function(e){return t.coalesce(e),"#"+t._componentToHex(e[0])+t._componentToHex(e[1])+t._componentToHex(e[2])},t.argbToHexString=function(e){return"#"+t._componentToHex(e[0])+t._componentToHex(e[1])+t._componentToHex(e[2])+t._componentToHex(e[3])},t.coalesce=function(t){for(var e=1;e<t.length;e++)void 0===t[e]&&(t[e]=t[e-1])},t}(),u=function(){function t(){}return t.getTimeStamp=function(){return(new Date).getTime()},t}(),c=function(){function t(){}return t.getPixelRatio=function(t){return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},t.isTouch=function(){return!!("ontouchstart"in window)||window.navigator.msMaxTouchPoints>0},t}(),l=function(){function t(){}return t.isInIFrame=function(){try{return window.self!==window.top}catch(t){return!0}},t.supportsFullscreen=function(){var t=document.documentElement;return void 0!==(t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen)},t.isHidden=function(){return!!t.getHiddenProp()},t.getHiddenProp=function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null},t}(),p=function(){function t(){}return t.debounce=function(t,e){return e=e||100,function(){if(!t.debouncing){var n=Array.prototype.slice.apply(arguments);t.lastReturnVal=t.apply(window,n),t.debouncing=!0}return clearTimeout(t.debounceTimeout),t.debounceTimeout=setTimeout((function(){t.debouncing=!1}),e),t.lastReturnVal}},t}(),h=function(){function t(){}return t.simplifyMimeType=function(t){switch(t){case"text/plain":return"txt";case"image/jpeg":return"jpg";case"application/msword":return"doc";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"docx";default:var e=t.split("/");return e[e.length-1]}},t}(),f=function(){function t(){}return t.getCharCode=function(t){return"number"==typeof t.which?t.which:t.keyCode},t}(),d=function(){function t(){}return t.normalise=function(t,e,n){return(t-e)/(n-e)},t.median=function(t){t.sort((function(t,e){return t-e}));var e=Math.floor(t.length/2);return t.length%2?t[e]:(t[e-1]+t[e])/2},t.clamp=function(t,e,n){return Math.min(Math.max(t,e),n)},t}(),_=function(t,e){this.width=t,this.height=e},g=function(){function t(){}return t.fitRect=function(t,e,n,r){var o,i=0,a=0;return e/t<r/n?(i=t*(o=n/t),a=e*o):(i=t*(o=r/e),a=e*o),new _(Math.floor(i),Math.floor(a))},t.hitRect=function(t,e,n,r,o,i){return o>t&&o<t+n&&i>e&&i<e+r},t}(),v=function(){function t(){}return t.numericalInput=function(t){return 46==t.keyCode||8==t.keyCode||9==t.keyCode||27==t.keyCode||65==t.keyCode&&!0===t.ctrlKey||t.keyCode>=35&&t.keyCode<=39||!(t.shiftKey||(t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105))||(t.preventDefault(),!1)},t}(),y=function(){function t(){}return t.toPlainObject=function(t){t=Object(t);var e={};for(var n in t)e[n]=t[n];return e},t}(),m=function(){function t(){}return t.clear=function(t){switch(void 0===t&&(t=r.MEMORY),t){case r.MEMORY:this._memoryStorage={};break;case r.SESSION:sessionStorage.clear();break;case r.LOCAL:localStorage.clear()}},t.clearExpired=function(t){void 0===t&&(t=r.MEMORY);for(var e=this.getItems(t),n=0;n<e.length;n++){var o=e[n];this._isExpired(o)&&this.remove(o.key)}},t.get=function(t,e){void 0===e&&(e=r.MEMORY);var n=null;switch(e){case r.MEMORY:n=this._memoryStorage[t];break;case r.SESSION:n=sessionStorage.getItem(t);break;case r.LOCAL:n=localStorage.getItem(t)}if(!n)return null;var o=null;try{o=JSON.parse(n)}catch(t){return null}return o?this._isExpired(o)?null:(o.key=t,o):null},t._isExpired=function(t){return!((new Date).getTime()<t.expiresAt)},t.getItems=function(t){void 0===t&&(t=r.MEMORY);var e=[];switch(t){case r.MEMORY:for(var n=Object.keys(this._memoryStorage),o=0;o<n.length;o++)(a=this.get(n[o],r.MEMORY))&&e.push(a);break;case r.SESSION:for(o=0;o<sessionStorage.length;o++)(i=sessionStorage.key(o))&&(a=this.get(i,r.SESSION))&&e.push(a);break;case r.LOCAL:for(o=0;o<localStorage.length;o++){var i,a;(i=localStorage.key(o))&&(a=this.get(i,r.LOCAL))&&e.push(a)}}return e},t.remove=function(t,e){switch(void 0===e&&(e=r.MEMORY),e){case r.MEMORY:delete this._memoryStorage[t];break;case r.SESSION:sessionStorage.removeItem(t);break;case r.LOCAL:localStorage.removeItem(t)}},t.set=function(t,e,n,o){void 0===o&&(o=r.MEMORY);var i=1e3*n,a=new E;switch(a.value=e,a.expiresAt=(new Date).getTime()+i,o){case r.MEMORY:this._memoryStorage[t]=JSON.stringify(a);break;case r.SESSION:sessionStorage.setItem(t,JSON.stringify(a));break;case r.LOCAL:localStorage.setItem(t,JSON.stringify(a))}return a},t._memoryStorage={},t}(),E=function(){};!function(t){t.MEMORY="memory",t.SESSION="session",t.LOCAL="local"}(r||(r={}));var I=function(){function t(){}return t.ellipsis=function(t,e){if(t.length<=e)return t;var n=t.substr(0,e),r=n.lastIndexOf(" ");return-1!=r&&(n=n.substr(0,Math.min(n.length,r))),n+"&hellip;"},t.htmlDecode=function(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild.nodeValue},t.format=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var o=new RegExp("\\{"+r+"\\}","gm");t=t.replace(o,e[r])}return t},t.isAlphanumeric=function(t){return/^[a-zA-Z0-9]*$/.test(t)},t.toCssClass=function(t){return t.replace(/[^a-z0-9]/g,(function(t){var e=t.charCodeAt(0);return 32==e?"-":e>=65&&e<=90?"_"+t.toLowerCase():"__"+("000"+e.toString(16)).slice(-4)}))},t.toFileName=function(t){return t.replace(/[^a-z0-9]/gi,"_").toLowerCase()},t.utf8_to_b64=function(t){return window.btoa(unescape(encodeURIComponent(t)))},t}(),O=function(){function t(){}return t.getHashParameter=function(t,e){return e||(e=window.document),e&&e.location?this.getHashParameterFromString(t,e.location.hash):null},t.getHashParameterFromString=function(t,e){var n=new RegExp("#.*[?&]"+t+"=([^&]+)(&|$)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},t.setHashParameter=function(t,e,n){if(n||(n=window.document),n&&n.location){var r="#?"+this.updateURIKeyValuePair(n.location.hash.replace("#?",""),t,e),o=n.URL;-1!=o.indexOf("#")&&(o=o.substr(0,o.indexOf("#"))),n.location.replace(o+r)}},t.getQuerystringParameter=function(t,e){return e||(e=window),this.getQuerystringParameterFromString(t,e.location.search)},t.getQuerystringParameterFromString=function(t,e){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},t.setQuerystringParameter=function(t,e,n){if(n||(n=window.document),n&&n.location){var r=this.updateURIKeyValuePair(n.location.hash.replace("#?",""),t,e);window.location.search=r}},t.updateURIKeyValuePair=function(t,e,n){e=encodeURIComponent(e),n=encodeURIComponent(n);var r=t.split("&");""==r[0]&&r.shift();for(var o,i=r.length;i--;)if((o=r[i].split("="))[0]==e){o[1]=n,r[i]=o.join("=");break}return i<0&&(r[r.length]=[e,n].join("=")),r.join("&")},t.getUrlParts=function(t){var e=document.createElement("a");return e.href=t,e},t.convertToRelativeUrl=function(t){var e=this.getUrlParts(t),n=e.pathname+e.searchWithin;return n.startsWith("/")||(n="/"+n),n},t}()}]))},74:function(t,e,n){var r=n(75)(Promise),o=n(21);t.exports=function(t,e){t=t||window.fetch,e=e||new o.CookieJar;var n=r(e.getCookieString.bind(e)),i=r(e.setCookie.bind(e));return async function(e,r){r=r||{};const o=await n(e);e.headers&&"function"==typeof e.headers.append?e.headers.append("cookie",o):r.headers&&"function"==typeof r.headers.append?r.headers.append("cookie",o):r.headers=Object.assign(r.headers||{},o?{cookie:o}:{});const a=await t(e,r);var s=[];if(a.headers.getAll)s=a.headers.getAll("set-cookie");else{const t=a.headers.raw();void 0!==t["set-cookie"]&&(s=t["set-cookie"])}return await Promise.all(s.map(t=>i(t,a.url))),a}}},75:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=void 0===arguments[0]?Promise:arguments[0];return function(e){return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return new t((function(t,n){return e.apply(void 0,r.concat([function(e,r){return e?n(e):t(r)}]))}))}}},t.exports=e.default},77:function(t,e,n){(function(t,r){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){e&&e.nodeType,t&&t.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=36,l=1,p=26,h=38,f=700,d=72,_=128,g="-",v=/^xn--/,y=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=c-l,O=Math.floor,L=String.fromCharCode;function T(t){throw new RangeError(E[t])}function A(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function C(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+A((t=t.replace(m,".")).split("."),e).join(".")}function b(t){for(var e,n,r=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(n=t.charCodeAt(o++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--):r.push(e);return r}function M(t){return A(t,(function(t){var e="";return t>65535&&(e+=L((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=L(t)})).join("")}function P(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function R(t,e,n){var r=0;for(t=n?O(t/f):t>>1,t+=O(t/e);t>I*p>>1;r+=c)t=O(t/I);return O(r+(I+1)*t/(t+h))}function S(t){var e,n,r,o,i,a,s,h,f,v,y,m=[],E=t.length,I=0,L=_,A=d;for((n=t.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&T("not-basic"),m.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<E;){for(i=I,a=1,s=c;o>=E&&T("invalid-input"),((h=(y=t.charCodeAt(o++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:c)>=c||h>O((u-I)/a))&&T("overflow"),I+=h*a,!(h<(f=s<=A?l:s>=A+p?p:s-A));s+=c)a>O(u/(v=c-f))&&T("overflow"),a*=v;A=R(I-i,e=m.length+1,0==i),O(I/e)>u-L&&T("overflow"),L+=O(I/e),I%=e,m.splice(I++,0,L)}return M(m)}function w(t){var e,n,r,o,i,a,s,h,f,v,y,m,E,I,A,C=[];for(m=(t=b(t)).length,e=_,n=0,i=d,a=0;a<m;++a)(y=t[a])<128&&C.push(L(y));for(r=o=C.length,o&&C.push(g);r<m;){for(s=u,a=0;a<m;++a)(y=t[a])>=e&&y<s&&(s=y);for(s-e>O((u-n)/(E=r+1))&&T("overflow"),n+=(s-e)*E,e=s,a=0;a<m;++a)if((y=t[a])<e&&++n>u&&T("overflow"),y==e){for(h=n,f=c;!(h<(v=f<=i?l:f>=i+p?p:f-i));f+=c)A=h-v,I=c-v,C.push(L(P(v+A%I,0))),h=O(A/I);C.push(L(P(h,0))),i=R(n,E,r==o),n=0,++r}++n,++e}return C.join("")}s={version:"1.4.1",ucs2:{decode:b,encode:M},decode:S,encode:w,toASCII:function(t){return C(t,(function(t){return y.test(t)?"xn--"+w(t):t}))},toUnicode:function(t){return C(t,(function(t){return v.test(t)?S(t.slice(4).toLowerCase()):t}))}},void 0===(o=function(){return s}.call(e,n,e,t))||(t.exports=o)}()}).call(this,n(78)(t),n(25))},78:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},79:function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},80:function(t,e,n){"use strict";e.decode=e.parse=n(81),e.encode=e.stringify=n(82)},81:function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,i){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var p,h,f,d,_=t[l].replace(s,"%20"),g=_.indexOf(n);g>=0?(p=_.substr(0,g),h=_.substr(g+1)):(p=_,h=""),f=decodeURIComponent(p),d=decodeURIComponent(h),r(a,f)?o(a[f])?a[f].push(d):a[f]=[a[f],d]:a[f]=d}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},82:function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?i(a(t),(function(a){var s=encodeURIComponent(r(a))+n;return o(t[a])?i(t[a],(function(t){return s+encodeURIComponent(r(t))})).join(e):s+encodeURIComponent(r(t[a]))})).join(e):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},84:function(t,e){t.exports="object"==typeof self?self.FormData:window.FormData}}]);